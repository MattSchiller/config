" Vundle
noremap <leader>al :PluginList<CR>      " pulls up plugins
noremap <leader>ai :PluginInstall<CR>      " installs plugins
noremap <leader>ac :PluginClean<CR>      " cleans plugins
noremap <leader>as :PluginSearch!<CR>      " searches plugins

" Rainbow Parens
let g:rainbow_active = 1

" Easy Motion 
map  / <Plug>(easymotion-sn)
omap / <Plug>(easymotion-tn)
map  n <Plug>(easymotion-next)
map  N <Plug>(easymotion-prev)
map <Leader>l <Plug>(easymotion-lineforward)
map <Leader>j <Plug>(easymotion-j)
map <Leader>k <Plug>(easymotion-k)
map <Leader>h <Plug>(easymotion-linebackward)
let g:EasyMotion_startofline = 0 " keep cursor colum when JK motion
let g:EasyMotion_smartcase = 1
nmap s <Plug>(easymotion-s)
nmap S <Plug>(easymotion-bd-w)

" Ctrl-P
let g:ctrlp_map = '<c-p>'
let g:ctrlp_cmd = 'CtrlP'
map <leader>f :CtrlP<CR>

" NERD Tree
map <C-o> :NERDTreeToggle<CR>
function! NERDTreeQuit()
    redir => buffersoutput
    silent buffers
    redir END
    "   1BufNo  2Mods.     3File           4LineNo
    let pattern = '^\s*\(\d\+\)\(.....\) "\(.*\)"\s\+line \(\d\+\)$'
    let windowfound = 0

    for bline in split(buffersoutput, "\n")
        let m = matchlist(bline, pattern)

        if (len(m) > 0)
            if (m[2] =~ '..a..')
                let windowfound = 1
            endif
        endif
    endfor

    if (!windowfound)
        quitall
    endif
endfunction
autocmd WinEnter * call NERDTreeQuit()
noremap <leader>o :NERDTreeToggle<CR>

" Airline
set laststatus=2
let g:airline_theme="badwolf"

" Ag
noremap <leader>D : ~/repos/wonderdome<C-b>Ag 
noremap <leader>d :Ag 
